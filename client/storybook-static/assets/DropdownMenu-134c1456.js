import{j as M}from"./jsx-runtime-ed146b25.js";import{r as d,R as U}from"./index-c6dae603.js";import{o as B,l as T,O as Q,U as k,y as D,a as Z,b as I,s as G,u as K,d as E,C as $,I as O,p as V,T as H,c as z,e as J,f as X,h as Y,g as ee,i as m,j as x,r as te,k as A,_ as re,M as q,D as W,m as ne,n as ae,q as oe}from"./transition-349f38e8.js";function ie(...e){return d.useMemo(()=>B(...e),[...e])}function ue({container:e,accept:u,walk:o,enabled:n=!0}){let a=d.useRef(u),s=d.useRef(o);d.useEffect(()=>{a.current=u,s.current=o},[u,o]),T(()=>{if(!e||!n)return;let i=B(e);if(!i)return;let t=a.current,l=s.current,p=Object.assign(y=>t(y),{acceptNode:t}),v=i.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,p,!1);for(;v.nextNode();)l(v.currentNode)},[e,n,a,s])}var se=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(se||{}),le=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(le||{}),ce=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(ce||{});function N(e,u=o=>o){let o=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,n=ae(u(e.items.slice()),s=>s.dataRef.current.domRef.current),a=o?n.indexOf(o):null;return a===-1&&(a=null),{items:n,activeItemIndex:a}}let de={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,u)=>{var o;let n=N(e),a=ne(u,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeItemIndex:a,activationTrigger:(o=u.trigger)!=null?o:1}},3:(e,u)=>{let o=e.searchQuery!==""?0:1,n=e.searchQuery+u.value.toLowerCase(),a=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+o).concat(e.items.slice(0,e.activeItemIndex+o)):e.items).find(i=>{var t;return((t=i.dataRef.current.textValue)==null?void 0:t.startsWith(n))&&!i.dataRef.current.disabled}),s=a?e.items.indexOf(a):-1;return s===-1||s===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,u)=>{let o=N(e,n=>[...n,{id:u.id,dataRef:u.dataRef}]);return{...e,...o}},6:(e,u)=>{let o=N(e,n=>{let a=n.findIndex(s=>s.id===u.id);return a!==-1&&n.splice(a,1),n});return{...e,...o,activationTrigger:1}}},j=d.createContext(null);j.displayName="MenuContext";function F(e){let u=d.useContext(j);if(u===null){let o=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,F),o}return u}function me(e,u){return K(u.type,de,e,u)}let pe=d.Fragment;function fe(e,u){let{__demoMode:o=!1,...n}=e,a=d.useReducer(me,{__demoMode:o,menuState:o?0:1,buttonRef:d.createRef(),itemsRef:d.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:i,buttonRef:t},l]=a,p=D(u);Z([t,i],(R,h)=>{var c;l({type:1}),Y(h,ee.Loose)||(R.preventDefault(),(c=t.current)==null||c.focus())},s===0);let v=I(()=>{l({type:1})}),y=d.useMemo(()=>({open:s===0,close:v}),[s,v]),g={ref:p};return U.createElement(j.Provider,{value:a},U.createElement(G,{value:K(s,{0:E.Open,1:E.Closed})},$({ourProps:g,theirProps:n,slot:y,defaultTag:pe,name:"Menu"})))}let ve="button";function Ie(e,u){var o;let n=O(),{id:a=`headlessui-menu-button-${n}`,...s}=e,[i,t]=F("Menu.Button"),l=D(i.buttonRef,u),p=V(),v=I(c=>{switch(c.key){case m.Space:case m.Enter:case m.ArrowDown:c.preventDefault(),c.stopPropagation(),t({type:0}),p.nextFrame(()=>t({type:2,focus:x.First}));break;case m.ArrowUp:c.preventDefault(),c.stopPropagation(),t({type:0}),p.nextFrame(()=>t({type:2,focus:x.Last}));break}}),y=I(c=>{switch(c.key){case m.Space:c.preventDefault();break}}),g=I(c=>{if(te(c.currentTarget))return c.preventDefault();e.disabled||(i.menuState===0?(t({type:1}),p.nextFrame(()=>{var b;return(b=i.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})})):(c.preventDefault(),t({type:0})))}),R=d.useMemo(()=>({open:i.menuState===0}),[i]),h={ref:l,id:a,type:H(e,i.buttonRef),"aria-haspopup":"menu","aria-controls":(o=i.itemsRef.current)==null?void 0:o.id,"aria-expanded":i.menuState===0,onKeyDown:v,onKeyUp:y,onClick:g};return $({ourProps:h,theirProps:s,slot:R,defaultTag:ve,name:"Menu.Button"})}let ge="div",ye=Q.RenderStrategy|Q.Static;function xe(e,u){var o,n;let a=O(),{id:s=`headlessui-menu-items-${a}`,...i}=e,[t,l]=F("Menu.Items"),p=D(t.itemsRef,u),v=ie(t.itemsRef),y=V(),g=z(),R=(()=>g!==null?(g&E.Open)===E.Open:t.menuState===0)();d.useEffect(()=>{let r=t.itemsRef.current;r&&t.menuState===0&&r!==(v==null?void 0:v.activeElement)&&r.focus({preventScroll:!0})},[t.menuState,t.itemsRef,v]),ue({container:t.itemsRef.current,enabled:t.menuState===0,accept(r){return r.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:r.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(r){r.setAttribute("role","none")}});let h=I(r=>{var S,P;switch(y.dispose(),r.key){case m.Space:if(t.searchQuery!=="")return r.preventDefault(),r.stopPropagation(),l({type:3,value:r.key});case m.Enter:if(r.preventDefault(),r.stopPropagation(),l({type:1}),t.activeItemIndex!==null){let{dataRef:f}=t.items[t.activeItemIndex];(P=(S=f.current)==null?void 0:S.domRef.current)==null||P.click()}W(t.buttonRef.current);break;case m.ArrowDown:return r.preventDefault(),r.stopPropagation(),l({type:2,focus:x.Next});case m.ArrowUp:return r.preventDefault(),r.stopPropagation(),l({type:2,focus:x.Previous});case m.Home:case m.PageUp:return r.preventDefault(),r.stopPropagation(),l({type:2,focus:x.First});case m.End:case m.PageDown:return r.preventDefault(),r.stopPropagation(),l({type:2,focus:x.Last});case m.Escape:r.preventDefault(),r.stopPropagation(),l({type:1}),A().nextFrame(()=>{var f;return(f=t.buttonRef.current)==null?void 0:f.focus({preventScroll:!0})});break;case m.Tab:r.preventDefault(),r.stopPropagation(),l({type:1}),A().nextFrame(()=>{re(t.buttonRef.current,r.shiftKey?q.Previous:q.Next)});break;default:r.key.length===1&&(l({type:3,value:r.key}),y.setTimeout(()=>l({type:4}),350));break}}),c=I(r=>{switch(r.key){case m.Space:r.preventDefault();break}}),b=d.useMemo(()=>({open:t.menuState===0}),[t]),w={"aria-activedescendant":t.activeItemIndex===null||(o=t.items[t.activeItemIndex])==null?void 0:o.id,"aria-labelledby":(n=t.buttonRef.current)==null?void 0:n.id,id:s,onKeyDown:h,onKeyUp:c,role:"menu",tabIndex:0,ref:p};return $({ourProps:w,theirProps:i,slot:b,defaultTag:ge,features:ye,visible:R,name:"Menu.Items"})}let Re=d.Fragment;function be(e,u){let o=O(),{id:n=`headlessui-menu-item-${o}`,disabled:a=!1,...s}=e,[i,t]=F("Menu.Item"),l=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===n:!1,p=d.useRef(null),v=D(u,p);T(()=>{if(i.__demoMode||i.menuState!==0||!l||i.activationTrigger===0)return;let f=A();return f.requestAnimationFrame(()=>{var C,L;(L=(C=p.current)==null?void 0:C.scrollIntoView)==null||L.call(C,{block:"nearest"})}),f.dispose},[i.__demoMode,p,l,i.menuState,i.activationTrigger,i.activeItemIndex]);let y=J(p),g=d.useRef({disabled:a,domRef:p,get textValue(){return y()}});T(()=>{g.current.disabled=a},[g,a]),T(()=>(t({type:5,id:n,dataRef:g}),()=>t({type:6,id:n})),[g,n]);let R=I(()=>{t({type:1})}),h=I(f=>{if(a)return f.preventDefault();t({type:1}),W(i.buttonRef.current)}),c=I(()=>{if(a)return t({type:2,focus:x.Nothing});t({type:2,focus:x.Specific,id:n})}),b=X(),w=I(f=>b.update(f)),r=I(f=>{b.wasMoved(f)&&(a||l||t({type:2,focus:x.Specific,id:n,trigger:0}))}),S=I(f=>{b.wasMoved(f)&&(a||l&&t({type:2,focus:x.Nothing}))}),P=d.useMemo(()=>({active:l,disabled:a,close:R}),[l,a,R]);return $({ourProps:{id:n,ref:v,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,disabled:void 0,onClick:h,onFocus:c,onPointerEnter:w,onMouseEnter:w,onPointerMove:r,onMouseMove:r,onPointerLeave:S,onMouseLeave:S},theirProps:s,slot:P,defaultTag:Re,name:"Menu.Item"})}let he=k(fe),Me=k(Ie),Se=k(xe),we=k(be),_=Object.assign(he,{Button:Me,Items:Se,Item:we});const Pe=({children:e})=>M.jsxs(_,{as:"div",className:"relative inline-block text-left",children:[M.jsx("div",{children:M.jsx(_.Button,{className:"inline-flex w-full justify-center",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:M.jsx("path",{fillRule:"evenodd",d:"M10.5 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z",clipRule:"evenodd"})})})}),M.jsx(oe,{as:d.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:M.jsx(_.Items,{className:"absolute right-0 z-10 mt-2 w-40 origin-top-right rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:e})})]});Pe.__docgenInfo={description:"",methods:[],displayName:"DropdownMenu",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};export{Pe as D,_ as q};
