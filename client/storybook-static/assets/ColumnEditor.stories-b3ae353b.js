import{j as e}from"./jsx-runtime-ed146b25.js";import{u as k,e as y,M as _,f as C,P as I,d as N}from"./axios.api-b23b7fa1.js";import{u as v,F as q,C as B}from"./index.esm-73804e6c.js";import{B as f}from"./react-toastify.esm-fa44d8c4.js";import{c as D,g as x,e as F}from"./taskColumnThunks-1145476d.js";import{b as P,B as A}from"./Button-65c196bc.js";import{I as T}from"./Input-73fe76b1.js";/* empty css              */import"./index-c6dae603.js";import"./DropdownMenu-134c1456.js";import"./transition-349f38e8.js";import"./Select-93b2da57.js";const d=({isNewColumn:o,isEdit:u,columnId:a})=>{const{boardId:r}=P(),s=k(),l=y(t=>t.taskColumn.columnItemData),n=v({mode:"onChange"}),p=()=>{n.reset(),s(C("addNewColumn")),s(C(`editColumn_${a}`))},w=async t=>{if(o&&r){const c={board:+r,title:t.title};await s(D(c)),f.success("Success! You've create the column."),p(),r&&s(x(+r))}if(u&&a){const c={columnId:a,title:t.title};await s(F(c)),f.success("Success! You've changed the column title."),p(),r&&s(x(+r))}};return e.jsx(_,{modalId:o?"addNewColumn":`editColumn_${a}`,children:e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"font-medium text-[18px] mb-8",children:o?"Create new list":"Edit list"}),e.jsx(q,{...n,children:e.jsxs("form",{id:"column",className:"w-[250px] sm:w-[350px] flex flex-col gap-4",onSubmit:t=>t.preventDefault(),children:[e.jsx(B,{name:"title",defaultValue:u?l==null?void 0:l.title:"",control:n.control,rules:{required:!0},render:({field:t})=>e.jsx(T,{field:t,id:"title",placeholder:"Board title"})}),e.jsx(A,{type:"submit",label:o?"Create":"Submit",onClick:n.handleSubmit(w)})]})})]})})};d.__docgenInfo={description:"",methods:[],displayName:"ColumnEditor",props:{isNewColumn:{required:!1,tsType:{name:"boolean"},description:""},isEdit:{required:!1,tsType:{name:"boolean"},description:""},columnId:{required:!1,tsType:{name:"number"},description:""}}};const M=({children:o})=>e.jsx(I,{store:N,children:o}),U={title:"Components/ColumnEditor",component:d,parameters:{layout:"centered"}},i={render:()=>e.jsx(M,{children:e.jsx(d,{isNewColumn:!0})})},m={render:()=>e.jsx(M,{children:e.jsx(d,{isEdit:!0,columnId:2})})};var h,j,S;i.parameters={...i.parameters,docs:{...(h=i.parameters)==null?void 0:h.docs,source:{originalSource:`{
  render: () => <MockedStore>\r
      <ColumnEditor isNewColumn />\r
    </MockedStore>
}`,...(S=(j=i.parameters)==null?void 0:j.docs)==null?void 0:S.source}}};var b,E,g;m.parameters={...m.parameters,docs:{...(b=m.parameters)==null?void 0:b.docs,source:{originalSource:`{
  render: () => <MockedStore>\r
      <ColumnEditor isEdit columnId={2} />\r
    </MockedStore>
}`,...(g=(E=m.parameters)==null?void 0:E.docs)==null?void 0:g.source}}};const W=["CreateColumn","EditColumn"];export{i as CreateColumn,m as EditColumn,W as __namedExportsOrder,U as default};
